on_game_start = {
    on_action = {
        romaviri_empire_important_counties
    }
}

romaviri_empire_important_counties = {
    effect = {
        if = {
            limit = { has_ep3_dlc_trigger = yes }
            title:c_antiocheia = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_jerusalem = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_alexandria = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_abbadan = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_edessa = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_bari = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_siracusa = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_roma = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_ravenna = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_tunis = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_tangiers = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_murcia = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_lombardia = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_trier = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_cumberland = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_northumberland = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_chandax = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_tourraine = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_emperor_yearly.2000
                }

            }
            title:c_byzantion = {
                set_important_location = {
                    title = title:h_romaviri_empire
                    title = title:h_eastern_romaviri_empire
                    enter_realm_event = romaviri_restoration.1200
                }
            }
        }
    }
}

on_title_gain = {
    on_action = {
        romaviri_empire_on_title_gain
    }
}

on_title_gain_inheritance = {
    on_action = {
        romaviri_empire_on_title_gain_inheritance
    }
}

on_title_loss = {
    on_action = {
        romaviri_empire_on_title_loss
    }
}

romaviri_empire_on_title_gain = {
    effect = {
        if = {
            limit = {
                OR = {
                    scope:title = title:h_romaviri_empire
                    scope:title = title:h_eastern_romaviri_empire
                }
                NOT = { has_trait = augustus }
            }
            trigger_event = romaviri_restoration.0005
        }
    }
}

romaviri_empire_on_title_gain_inheritance = {
    effect = {
        # Additional Flavor Title
        additional_flavor_check_effect = yes

        else_if = {
            limit = {
                OR = {
                    scope:title = title:h_romaviri_empire
                    scope:title = title:h_eastern_romaviri_empire
                }
            }
            set_variable = uses_custom_caesar_flavourization
        }
    }
}

romaviri_empire_on_title_loss = {
    effect = {
        # Additional Flavor Title
        additional_flavor_check_effect = yes

        if = {
            limit = {
                OR = {
                    scope:title = title:h_romaviri_empire
                    scope:title = title:h_eastern_romaviri_empire
                }
            }
            remove_variable = uses_custom_caesar_flavourization
        }
    }
}

on_action_romaviri_restoration_pulse = {
    trigger = {
        romaviri_restoration_is_valid_romaviri_empire_trigger = yes
        NOT = { has_ep3_dlc_trigger = yes }
    }
    events = {
        #Restored Roman Provinces events.
        romaviri_restoration.0010
        romaviri_restoration.0011
        romaviri_restoration.0012
        romaviri_restoration.0013
        romaviri_restoration.0014
        romaviri_restoration.0015
        romaviri_restoration.0016
        romaviri_restoration.0017
        romaviri_restoration.0018
        romaviri_restoration.0019
        romaviri_restoration.0020
        romaviri_restoration.0021
        romaviri_restoration.0022
        romaviri_restoration.0023
        romaviri_restoration.0024
    }
}

