pilgrimage_entourage_base_set_weighting_value = {
    if = {
        limit = { bannable_serving_diarch_trigger = no }
        # We want to have bodyguards most of all.
        if = {
            limit = { has_court_position = bodyguard_court_position }
            add = 1000
        }
        if = {
            limit = { has_court_position = akolouthos_court_position }
            add = 1000
        }
        if = {
            limit = { has_court_position = eryndar_court_position }
            add = 1000
        }
        # But we'll settle for knights.
        else_if = {
            limit = {
                is_knight = yes
                prowess >= high_skill_rating
            }
            # We keep the weight low, since you'll probably have a good few such knights and we don't want them hogging all the spots.
            add = 5
        }
        # Also maybe someone to just chat to.
        ## Positive relations.
        if = {
            limit = {
                has_any_good_relationship_with_character_trigger = { CHARACTER = scope:host }
            }
            # Same faith, standard weight.
            if = {
                limit = { faith = scope:host.faith }
                add = 100
            }
            # Other faith, _ehhhh_, they're for company but it's still a spiritual shindig.
            else = { add = 10 }
        }
        ## Religious figures.
        if = {
            limit = {
                save_temporary_scope_as = current_char
                OR = {
                    liege ?= { cp:councillor_court_chaplain ?= scope:current_char }
                    AND = {
                        faith = scope:host.faith
                        has_trait = devoted
                    }
                }
            }
            add = 300
        }
    }
    if = {
        limit = {
            bannable_serving_diarch_trigger = yes
        }
        add = -5000
    }
}