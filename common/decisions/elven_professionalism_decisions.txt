adopt_elven_professionalism = { # elven professionalism for kings and emperors
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_invite_knights.dds"
	}
	decision_group_type = elf

	desc = adopt_elven_professionalism_decision_desc
	selection_tooltip = adopt_elven_professionalism_decision_tooltip
	ai_goal = no

	sort_order = 500

	is_shown = {
		is_ai = no
		culture = {
			has_cultural_parameter = elven_professionalism_decision
		
		}
		NOR = { # cannot already have modifier
			has_character_modifier = elf_professionalism_modifier
			has_character_modifier = elf_legion_modifier
		}
	}

	# Following conditions must be true to take decision, shown in requirements section
	is_valid = {
		any_held_title = { # must be king or above
			tier >= tier_kingdom
		}
	}

	# Following conditions Will be shown as a validation error tooltip when False
	is_valid_showing_failures_only = {
		NOT = {
			has_government = landless_adventurer_government
		}
		is_landed = yes
	}

	cost = {
		prestige = 1000
		gold = 200
	}

	effect = {
		custom_tooltip = {
			text = adopt_elven_professionalism_decision_tooltip
		}

		add_character_modifier = {
			modifier = elf_professionalism_modifier
		}
	}
}

adopt_elven_legion = { # elven legionary system for emperors
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_invite_knights.dds"
	}
	decision_group_type = elf

	desc = adopt_elven_professionalism_decision_desc
	selection_tooltip = adopt_elven_legion_decision_tooltip
	ai_goal = no

	sort_order = 500

	is_shown = {
		is_ai = no
		culture = {
			has_cultural_parameter = elven_professionalism_decision
		
		}
		NOR = { # cannot already have modifier
			has_character_modifier = elf_professionalism_modifier
			has_character_modifier = elf_legion_modifier
		}
	}
	# Following conditions must be true to take decision, shown in requirements section
	is_valid = {
		any_held_title = {
			tier = tier_empire # must be emperor
		}

	}

	# Following conditions Will be shown as a validation error tooltip when False
	is_valid_showing_failures_only = {
		NOT = {
			has_government = landless_adventurer_government
		}
		is_landed = yes
	}

	cost = {
		prestige = 2000
		gold = 500
	}

	effect = {
		custom_tooltip = {
			text = adopt_elven_professionalism_decision_tooltip
		}

		add_character_modifier = { # double of elven professionalism effect
			modifier = elf_legion_modifier
		}

		
	}
}

revoke_elven_professionalism = { # reverse elven professionalism/legion for kings and emperors
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_invite_knights.dds"
	}
	decision_group_type = elf

	desc = revoke_elven_professionalism_decision_desc
	selection_tooltip = revoke_elven_professionalism_decision_tooltip
	ai_goal = no

	sort_order = 500

	is_shown = {
		is_ai = no
		OR = {
				has_character_modifier = elf_legion_modifier
				has_character_modifier = elf_professionalism_modifier
			}
		}

	# Following conditions must be true to take decision, shown in requirements section
	is_valid = {

	}

	# Following conditions Will be shown as a validation error tooltip when False
	is_valid_showing_failures_only = {
		is_landed = yes
	}

	cost = {
		prestige = 1000
		gold = 200
	}

	effect = {
		custom_tooltip = {
			text = revoke_elven_professionalism_decision_tooltip
		}

		remove_character_modifier = elf_professionalism_modifier
		remove_character_modifier = elf_legion_modifier
		}
}
	
found_highguard_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/ep3_decision_highguard.dds"
	}
	ai_check_interval = 60

	sort_order = 100

	desc = found_highguard_decision_desc
	selection_tooltip = found_highguard_decision_tooltip
	decision_group_type = roman

	is_shown = {
		has_ep3_dlc_trigger = yes
		culture = { has_cultural_parameter = unlock_maa_highguard }
		primary_title.tier >= tier_empire
		NOT = {
			# You have not already founded it for your current title
			primary_title = { has_variable = founded_highguard }
		}
	}
	
	is_valid = {
		prestige_level >= 3
		OR = {
			any_realm_county = {
				OR = {
					culture = culture:elf
					culture = culture:elf_culture_serelion
					culture = culture:elf_culture_gwynthorn
					culture = culture:elf_culture_daelurin
					culture = culture:elf_culture_thundarael
					culture = culture:elf_culture_valerith
					culture = culture:elf_culture_lormelis
				}
			}
			any_courtier = {
				count >= 5
				OR = {
					culture = culture:elf
					culture = culture:elf_culture_serelion
					culture = culture:elf_culture_gwynthorn
					culture = culture:elf_culture_daelurin
					culture = culture:elf_culture_thundarael
					culture = culture:elf_culture_valerith
					culture = culture:elf_culture_lormelis
				}
			}
			any_ally = {
				OR = {
					culture = culture:elf
					culture = culture:elf_culture_serelion
					culture = culture:elf_culture_gwynthorn
					culture = culture:elf_culture_daelurin
					culture = culture:elf_culture_thundarael
					culture = culture:elf_culture_valerith
					culture = culture:elf_culture_lormelis
				}
			}
		}
	}

	is_valid_showing_failures_only = {
		is_at_war = no
		NOT = { exists = involved_activity }
		is_imprisoned = no
	}

	cost = {
		prestige = 1000
	}

	effect = {
		primary_title = { set_variable = founded_highguard }
		send_interface_toast = {
			title = unlocked_highguard_desc_tt
			type = event_toast_effect_neutral
			left_icon = root
			custom_tooltip = unlocked_highguard_desc
		}
		create_character_memory = {
			type = found_highguardian_memory
		}
	}

	ai_potential = {
		has_title = title:e_byzantium
	}

	ai_will_do = {
		base = 100
	}
}