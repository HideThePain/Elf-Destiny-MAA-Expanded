@cultural_spark_maa_extra_ai_score = 80

@provisions_cost_infantry_cheap = 3
@provisions_cost_infantry_moderate = 7
@provisions_cost_infantry_expensive = 12
@provisions_cost_infantry_bankrupting = 15

@provisions_cost_cavalry_cheap = 7
@provisions_cost_cavalry_moderate = 15
@provisions_cost_cavalry_expensive = 21
@provisions_cost_cavalry_bankrupting = 28

@provisions_cost_special_cheap = 6
@provisions_cost_special_moderate = 12
@provisions_cost_special_expensive = 18
@provisions_cost_special_bankrupting = 24

fey_archers = {
    type = archers
    stack = 50

    damage = 135
    toughness = 20
    pursuit = 50
    screen = 20

    siege_value = 0.3

    terrain_bonus = {
        forest = { damage = 40 toughness = 40 pursuit = 40 screen = 40 }
        jungle = { damage = 40 toughness = 40 pursuit = 40 screen = 40 }
        taiga = { damage = 40 toughness = 40 pursuit = 40 screen = 40 }
    }

    counters = {
        skirmishers = 1
        pikemen = 1
    }

    can_recruit = {
        culture = { has_cultural_parameter = unlock_maa_fey_archers }
        is_any_elf_type = yes
    }

    should_show_when_unavailable = {
        government_allows = subject_men_at_arms
        is_any_elf_type = yes
    }

    access_through_subject = {
        culture = { has_cultural_parameter = unlock_maa_fey_archers }
        is_any_elf_type = yes
    }

    buy_cost = { gold = elf_bowmen_recruitment_cost }
    low_maintenance_cost = { gold = elf_bowmen_low_maint_cost }
    high_maintenance_cost = { gold = elf_bowmen_high_maint_cost }
    provision_cost = @provisions_cost_special_expensive

    ai_quality = { value = @cultural_spark_maa_extra_ai_score }
    icon = fey_archers
}


elite_bow_knights = {
    type = archers
    stack = 50

    damage = 150
    toughness = 30
    pursuit = 40
    screen = 10

    terrain_bonus = {
        forest = { damage = 40 toughness = 40 pursuit = 40 screen = 40 }
        jungle = { damage = 40 toughness = 40 pursuit = 40 screen = 40 }
        taiga = { damage = 40 toughness = 40 pursuit = 40 screen = 40 }
    }

    counters = {
        heavy_infantry = 1
        archers = 1
    }

    can_recruit = {
        culture = { has_cultural_parameter = unlock_maa_elite_bow_knights }
        is_any_elf_type = yes
    }

    should_show_when_unavailable = {
        government_allows = subject_men_at_arms
        is_any_elf_type = yes
    }

    access_through_subject = {
        culture = { has_cultural_parameter = unlock_maa_elite_bow_knights }
        is_any_elf_type = yes
    }

    buy_cost = { gold = elf_bowmen_recruitment_cost }
    low_maintenance_cost = { gold = elf_bowmen_low_maint_cost }
    high_maintenance_cost = { gold = elf_bowmen_high_maint_cost }
    provision_cost = @provisions_cost_special_expensive

    ai_quality = { value = @cultural_spark_maa_extra_ai_score }
    icon = elite_bow_knights
}

wolf_riders = {
    type = light_cavalry
    icon = wolf_riders
    stack = 50

    damage = 140
    toughness = 100
    pursuit = 130
    screen = 70
    terrain_bonus = {
        forest = { damage = 80 toughness = 20 pursuit = 160 screen = 50 }
        taiga = { damage = 80 toughness = 20 pursuit = 160 screen = 50 }
        jungle = { damage = 80 toughness = 20 pursuit = 160 screen = 50 }
    }

    counters = {
        skirmishers = 1
        heavy_infantry = 1
        archers = 1
    }

    can_recruit = {
        culture = { has_cultural_parameter = unlock_maa_wolf_riders }
        is_any_elf_type = yes
    }

    should_show_when_unavailable = {
        government_allows = subject_men_at_arms
        is_any_elf_type = yes
    }

    access_through_subject = {
        culture = { has_cultural_parameter = unlock_maa_wolf_riders }
        is_any_elf_type = yes
    }

    buy_cost = { gold = elf_horse_archers_recruitment_cost }
    low_maintenance_cost = { gold = elf_horse_archers_low_maint_cost }
    high_maintenance_cost = { gold = elf_horse_archers_high_maint_cost }
    provision_cost = @provisions_cost_cavalry_cheap

    ai_quality = { value = culture_ai_weight_light_cavalry }
}

direwolf_riders = {
    type = heavy_cavalry
    icon = direwolf_riders
    stack = 25

    damage = 410
    toughness = 75
    pursuit = 75
    screen = 40

    terrain_bonus = {
        forest = { damage = 50 toughness = 10 pursuit = 90 screen = 70 }
        taiga = { damage = 50 toughness = 10 pursuit = 90 screen = 70 }
        jungle = { damage = 50 toughness = 10 pursuit = 90 screen = 70 }
    }

    counters = {
        skirmishers = 1.5
        heavy_infantry = 1
        light_cavalry = 1
        archers = 1
    }

    can_recruit = {
        exists = dynasty
        dynasty = {
            has_dynasty_modifier = wolf_lords_dynasty_modifier
        }
        is_any_elf_type = yes
    }

    should_show_when_unavailable = {
        government_allows = subject_men_at_arms
        is_any_elf_type = yes
    }

    access_through_subject = {
        exists = dynasty
        dynasty = {
            has_dynasty_modifier = wolf_lords_dynasty_modifier
        }
        is_any_elf_type = yes
    }

    buy_cost = { gold = elf_very_heavy_cavalry_recruitment_cost }
    low_maintenance_cost = { gold = elf_very_heavy_cavalry_low_maint_cost }
    high_maintenance_cost = { gold = elf_very_heavy_cavalry_high_maint_cost }
    provision_cost = @provisions_cost_cavalry_bankrupting

    ai_quality = { value = culture_ai_weight_heavy_cavalry }
}


elk_archers = {
    type = archer_cavalry
    stack = 50

    damage = 155
    toughness = 70
    pursuit = 100
    screen = 60

    terrain_bonus = {
        forest = { damage = 50 toughness = 20 pursuit = 20 screen = 20 }
        taiga = { damage = 50 toughness = 20 pursuit = 20 screen = 20 }
        jungle = { damage = 50 toughness = 20 pursuit = 20 screen = 20 }

        steppe = { damage = 50 toughness = 20 pursuit = 20 screen = 20 }
    }

    counters = {
        skirmishers = 1
        heavy_infantry = 1
    }

    can_recruit = {
        culture = { has_cultural_parameter = unlock_maa_elk_archers }
        is_any_elf_type = yes
    }

    should_show_when_unavailable = {
        government_allows = subject_men_at_arms
        is_any_elf_type = yes
    }

    access_through_subject = {
        culture = { has_cultural_parameter = unlock_maa_elk_archers }
        is_any_elf_type = yes
    }

    buy_cost = { gold = elf_horse_archers_recruitment_cost }
    low_maintenance_cost = { gold = elf_horse_archers_low_maint_cost }
    high_maintenance_cost = { gold = elf_horse_archers_high_maint_cost }
    provision_cost = @provisions_cost_cavalry_cheap

    ai_quality = { value = @cultural_spark_maa_extra_ai_score }
    icon = elk_archers
}

warband_ravagers = {
    type = skirmishers
    stack = 50

    damage = 65
    toughness = 55
    pursuit = 45
    screen = 10

    terrain_bonus = {
        forest = { damage = 40 toughness = 10 pursuit = 20 screen = 20 }
        jungle = { damage = 40 toughness = 10 pursuit = 20 screen = 20 }
        taiga = { damage = 40 toughness = 10 pursuit = 20 screen = 20 }
    }

    counters = {
        heavy_infantry = 1
    }

    can_recruit = {
        has_government = advanced_tribal_government
        is_any_elf_type = yes
    }

    should_show_when_unavailable = {
        government_allows = subject_men_at_arms
        is_any_elf_type = yes
    }

    access_through_subject = {
        has_government = advanced_tribal_government
        is_any_elf_type = yes
    }

    buy_cost = { prestige = warband_ravagers_recruitment_cost }
    low_maintenance_cost = { prestige = warband_ravagers_low_maint_cost }
    high_maintenance_cost = { prestige = warband_ravagers_high_maint_cost }
    provision_cost = @provisions_cost_infantry_cheap

    stack = 50
    ai_quality = { value = @cultural_spark_maa_extra_ai_score }
    icon = warband_ravagers
}

warband_vanguard = {
    type = pikemen
    stack = 50

    damage = 125
    toughness = 110
    pursuit = 0
    screen = 0

    terrain_bonus = {
        forest = { damage = 30 toughness = 10 pursuit = 20 screen = 20 }
        jungle = { damage = 30 toughness = 10 pursuit = 20 screen = 20 }
        taiga = { damage = 30 toughness = 10 pursuit = 20 screen = 20 }
    }
    counters = {
        light_cavalry = 1
        heavy_cavalry = 1
        camel_cavalry = 1
        elephant_cavalry = 1
    }

    can_recruit = {
        has_government = advanced_tribal_government
        is_any_elf_type = yes
    }

    should_show_when_unavailable = {
        government_allows = subject_men_at_arms
        is_any_elf_type = yes
    }

    access_through_subject = {
        has_government = advanced_tribal_government
        is_any_elf_type = yes
    }

    buy_cost = { prestige = warband_vanguard_recruitment_cost }
    low_maintenance_cost = { prestige = warband_vanguard_low_maint_cost }
    high_maintenance_cost = { prestige = warband_vanguard_high_maint_cost }
    provision_cost = @provisions_cost_infantry_cheap

    stack = 50
    ai_quality = { value = @cultural_spark_maa_extra_ai_score }
    icon = warband_vanguard
}

abyssal_guardians = {
    type = pikemen
    stack = 50

    damage = 140
    toughness = 150
    pursuit = 0
    screen = 60

    terrain_bonus = {
        forest = { damage = 10 toughness = 20 screen = 20 }
        forest = { damage = 10 toughness = 20 screen = 20 }
        forest = { damage = 10 toughness = 20 screen = 20 }

        wetlands = { damage = 50 toughness = 50 pursuit = 20 screen = 30 }
        floodplains = { damage = 50 toughness = 50 pursuit = 20 screen = 30 }
        oasis = { damage = 50 toughness = 50 pursuit = 20 screen = 30 }
    }

    counters = {
        light_cavalry = 2
        heavy_cavalry = 1.5
        archer_cavalry = 1.5
        camel_cavalry = 1.5
        elephant_cavalry = 1
    }

    can_recruit = {
        culture = { has_cultural_parameter = unlock_maa_abyssal_guardians }
        is_any_elf_type = yes
    }

    should_show_when_unavailable = {
        government_allows = subject_men_at_arms
        is_any_elf_type = yes
    }

    access_through_subject = {
        culture = { has_cultural_parameter = unlock_maa_abyssal_guardians }
        is_any_elf_type = yes
    }

    buy_cost = { gold = schiltron_recruitment_cost }
    low_maintenance_cost = { gold = schiltron_low_maint_cost }
    high_maintenance_cost = { gold = schiltron_high_maint_cost }
    provision_cost = @provisions_cost_infantry_cheap

    ai_quality = { value = culture_ai_weight_pikemen }
    icon = abyssal_guardians
}